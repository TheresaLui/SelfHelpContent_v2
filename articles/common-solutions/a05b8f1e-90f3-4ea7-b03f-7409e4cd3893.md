<properties
  pagetitle="Can't create Telegraf user on Azure SQL VM"
  description=""
  service=""
  resource=""
  ms.author="sckingho"
  selfhelptype="Generic"
  supporttopicids="32784726"
  productpesids="17412"
  cloudenvironments="public, fairfax, mooncake, blackforest, ussec, usnat"
  disableclouds=""
  articleid="a05b8f1e-90f3-4ea7-b03f-7409e4cd3893"
  ownershipid="AzureData_AzureSQLDB" />
# Can't create Telegraf user on Azure SQL VM

In order to monitor your Azure SQL VM or SQL Server running on an Azure VM, we need to create a user for monitoring purposes that will collect the data.

## **Recommended Steps**

1. Refer to [our documentation](https://docs.microsoft.com/azure/azure-monitor/insights/sql-insights-enable#sql-server) for creating the Telegraf user.
2. Ensure that the password you used when creating the Telegraf user is the same one you will be storing in Key Vault or you connection string used by the monitoring VM.
3. Connect to your SQL Server VM, using SSMS or a similar tool, and run the following script:
```
USE master;
GO
CREATE LOGIN [telegraf] WITH PASSWORD = N'mystrongpassword';
GO
GRANT VIEW SERVER STATE TO [telegraf];
GO
GRANT VIEW ANY DEFINITION TO [telegraf];
GO
```

## **Recommended Documents**

* [Enable SQL Insights Overview](https://docs.microsoft.com/azure/azure-monitor/insights/sql-insights-enable)
* [Troubleshoot SQL Insights](https://docs.microsoft.com//azure/azure-monitor/insights/sql-insights-troubleshoot)