<properties
  pagetitle="Can't create monitoring user on Azure SQL VM"
  description=""
  service=""
  resource=""
  ms.author="coquagli"
  selfhelptype="Generic"
  supporttopicids="32784726"
  productpesids="17412"
  cloudenvironments="public, fairfax, mooncake, blackforest, ussec, usnat"
  disableclouds=""
  articleid="a05b8f1e-90f3-4ea7-b03f-7409e4cd3893"
  ownershipid="AzureData_AzureSQLDB" />
# Can't create monitoring user on Azure SQL VM

In order to monitor your Azure SQL VM or SQL Server running on an Azure VM, we need to create a user for monitoring purposes that will collect the data.

## **Recommended Steps**

- Refer to [our documentation](https://aka.ms/azuresqlinsights/docs/monitoringuser) for creating the monitoring user.
- Ensure that the password you used when creating the monitoring user matches the one stored in Key Vault or in your connection string
- Connect to your SQL Server VM (using SSMS or a similar tool) and run the following script:
```
USE master;
GO
CREATE LOGIN [YourMonitoringUser] WITH PASSWORD = N'mystrongpassword';
GO
GRANT VIEW SERVER STATE TO [telegraf];
GO
GRANT VIEW ANY DEFINITION TO [telegraf];
GO
```

## **Recommended Documents**

* [Enable SQL Insights Overview](https://docs.microsoft.com/azure/azure-monitor/insights/sql-insights-enable)
* [Troubleshoot SQL Insights](https://docs.microsoft.com//azure/azure-monitor/insights/sql-insights-troubleshoot)