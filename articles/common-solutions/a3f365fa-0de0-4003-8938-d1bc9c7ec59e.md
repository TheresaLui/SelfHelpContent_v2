<properties
  pagetitle="SQL Server Analysis Services (SSAS) Refresh and Queries Performance"
  service="microsoft.sqlvirtualmachine"
  resource="sqlvirtualmachines"
  ms.author="babarmav"
  selfhelptype="Generic"
  supporttopicids="32779862"
  productpesids="14745"
  cloudenvironments="public, fairfax, mooncake, blackforest, ussec, usnat"
  disableclouds=""
  articleid="a3f365fa-0de0-4003-8938-d1bc9c7ec59e"
  ownershipid="AzureData_AzureSQLVM" />
# SQL Server Analysis Services (SSAS) Refresh and Queries Performance
Most customers can resolve issues  with  SQL Server Analysis Services (SSAS) Refresh and Queries Performance by using following steps.


## **Recommended Steps**

- **SQL Server Analysis Services intermittently stop responding during processing or refresh**
    SQL Server Analysis Services may stop responding when  there is  processing which holds exclusive lock(s) blocking connection but itself is blocked by a long running query described in the [documentation](https://docs.microsoft.com/analysis-services/multidimensional-models/blog-analysis-services-stop-accept-new-connection?view=asallproducts-allversions#another-variation-multiple-processing-requests-can-block-each-other). Please proceed to identify the issue and implement suggestion in the documentation.

- **SQL Server Analysis Services refresh or processing fail with OLE DB error: OLE DB or ODBC error: Operation canceled; HY008**
    When SQL Server Analysis Services refresh or process the data, it sends queries to the data source to retrieve data. The queries to the data source can encounter timeout. Please review common errors mitigation at [Operation canceled error ](https://docs.microsoft.com/archive/blogs/jason_howell/analysis-services-cube-processing-fails-with-error-ole-db-error-ole-db-or-odbc-error-operation-canceled-hy008)

- **SQL Server Analysis Services refresh or processing fail with OLE DB error: OLE DB or ODBC error: Protocol error in TDS stream; HY000; Protocol error in TDS stream; HY000; Protocol error in TDS stream; HY000; Communication link failure; 08S01; TCP Provider: An existing connection was forcibly closed by the remote host.** 
   This can happen when SQL Server Analysis Services tries to connect to data source which is SQL Engine and the connection fails with communication link failure.  Most common issues can be resolved by [blog](https://social.technet.microsoft.com/Forums/b26af923-733a-408e-8b2f-1943d2ff74c1/tcp-provider-an-existing-connection-was-forcibly-closed-by-the-remote-host).

- **How to automate partition management for Analysis services Tabular Models**
    You can review to [Automate partition management for Analysis Services Tabular models](https://azure.microsoft.com/blog/azure-as-automated-partition-management) document.

- Please run the [SSASDiag Data Collection Tool](https://github.com/ssasdiag/SSASDiag/releases) to collect data on the Analysis Services server when problem occurs. The info can be used for cause analysis.

## **Recommended Documents**
- [Hardware Sizing a Tabular solution in SSAS](http://download.microsoft.com/download/d/2/0/d20e1c5f-72ea-4505-9f26-fef9550efd44/ssas_hardwaresizingtabularsolutions.docx)
- [Performance Tuning of Tabular Models in SQL Server Analysis Services 2012](http://download.microsoft.com/download/d/2/0/d20e1c5f-72ea-4505-9f26-fef9550efd44/performance%20tuning%20of%20tabular%20models%20in%20sql%20server%202012%20analysis%20services.docx)
- [SSAS Multidimensional Performance Guide 2014](http://social.technet.microsoft.com/wiki/contents/articles/13146.white-paper-gallery-for-sql-server.aspx#AnalysisServicesMOLAPPerformanceGuideforSQLServer2012and2014)
- [SSAS Processing Best Practices](https://docs.microsoft.com/previous-versions/sql/sql-server-2005/administrator/cc966525(v=technet.10))