<properties
  pagetitle="Resolving Single sign-in configuration issues"
  description="This article is for resolving single sign-in configuration issues customers face for Gallery apps or 'Bring your own apps'"
  service=""
  resource=""
  ms.author="shchaur"
  selfhelptype="apollo"
  supporttopicids="024d5027-ea18-7615-29e4-9b1de0b8ae7b"
  productpesids="16575"
  cloudenvironments="public,fairfax,mooncake,blackforest,ussec,usnat"
  disableclouds=""
  articleid="964086ab-e87b-4ffa-82a5-b023319d986d"
  ownershipid="AzureIdentity_EnterpriseApps"
  resourcerequired="False" />
# Resolve Single sign-on configuration issues

## Troubleshooting single sign-in configuration issues
Resolve single sign-on (SSO) configuration issues using insights from the following recommendations. 

:::Section Deploy SSO for SaaS applications:::  
### Learn how to deploy SSO for SaaS applications added from the Gallery
 
 <video>
    <src>https://www.youtube.com/watch?v=kSfiDDNg14U</src>	
	<title>How to deploy Single Sign-On for SaaS applications</title>
   </video>

   If you are having problems configuring single sign-on to your application, the following articles can help resolve most of your issues.
* [Tutorial on integrating SaaS applications with Azure AD and configuring Single Sign-on (SSO)](https://docs.microsoft.com/azure/active-directory/saas-apps/tutorial-list)
* [I can’t add Identifier or Reply URL/set Identifier format/add another instance of application](https://docs.microsoft.com/azure/active-directory/manage-apps/troubleshoot-saml-based-sso?WT.mc_id=UI_AAD_Enterprise_Apps_Support_L2_Overview)
* [Learn about SAML configuration settings (Reply URL, Logout URL, Sign-on URL, Identifier)](https://docs.microsoft.com/azure/active-directory/manage-apps/configure-saml-single-sign-on#saml-signing-certificate)
* [I want to configure Logout URL for my application](https://docs.microsoft.com/azure/active-directory/develop/single-sign-out-saml-protocol#logoutrequest-1)
* I need assistance configuring [SAML based Single sign-on](https://docs.microsoft.com/azure/active-directory/manage-apps/add-application-portal-setup-sso) or [OIDC based Single sign-on](https://docs.microsoft.com/azure/active-directory/manage-apps/add-application-portal-setup-oidc-sso)

:::Section Troubleshoot SAML-based SSO configuration issues with Azure Active Directory:::  

### Learn how to test SAML based SSO configuration with Azure Active Directory

   <video>
    <src>https://www.youtube.com/watch?v=poQCJK0WPUk</src>	
	<title>How to test SAML based Single Sign-On configuration with Azure Active Directory</title>
   </video>

### Common error codes

| Error code | Troubleshooting steps |
|:--|:--|
| [Error AADSTS50011 - The reply URL specified in the request does not match the reply URLs configured for the application](https://docs.microsoft.com/troubleshoot/azure/active-directory/error-code-aadsts50011-reply-url-mismatch) | The reply address is missing, misconfigured, or does not match reply addresses configured for the app. As a resolution, ensure to add this missing reply address to the Azure Active Directory application or have someone with the permissions to manage your application in Active Directory do this for you. |
| [Error AADSTS650056 - Misconfigured application](https://docs.microsoft.com/troubleshoot/azure/active-directory/error-code-aadsts650056-misconfigured-app) | The `Issuer` attribute sent from the application to Azure AD in the SAML request doesn’t match the `Identifier` value configured for the application in Azure AD. Ensure that the Issuer attribute in the SAML request matches the Identifier value configured in Azure AD. Verify that the value in the Identifier textbox matches the value for the identifier value displayed in the error. |
| [Error AADSTS70001 - Application with Identifier was not found in the directory](https://docs.microsoft.com/troubleshoot/azure/active-directory/error-code-aadsts70001-app-not-found-in-directory) | UnauthorizedClient - The application is disabled. To learn more, see the troubleshooting article for errors. AADSTS70001 |
| [Error AADSTS50105 - The signed in user is not assigned to a role for the application](https://docs.microsoft.com/troubleshoot/azure/active-directory/error-code-aadsts50105-user-not-assigned-role) | The user has not been granted access to the application in Azure AD. To assign one or more users to an application directly, see [Quickstart: Assign users to an app](https://docs.microsoft.com/azure/active-directory/manage-apps/add-application-portal-assign-users). |
| [Error AADSTS750054 - SAMLRequest or SAMLResponse must be present as query string parameters in HTTP request for SAML Redirect binding](https://docs.microsoft.com/troubleshoot/azure/active-directory/error-code-aadsts750054-saml-request-not-present) | Azure AD wasn’t able to identify the SAML request within the URL parameters in the HTTP request. This can happen if the application isn't using the required HTTP redirect binding when sending the SAML request to Azure AD. For more information about how to implement it, read the section *HTTP Redirect Binding* in the [SAML protocol specification document](https://docs.oasis-open.org/security/saml/v2.0/saml-bindings-2.0-os.pdf). |
| [Error - AADSTS75011 Authentication method by which the user authenticated with the service doesn't match requested authentication method AuthnContextClassRef](https://docs.microsoft.com/troubleshoot/azure/active-directory/error-code-aadsts75011-auth-method-mismatch) | The authentication method by which the user authenticated with the service doesn't match requested authentication method. **RequestedAuthnContext** is an optional value. Then, if possible, ask the application if it could be removed. Alternatively, make sure the RequestedAuthnContext will be honored by requesting a fresh authentication. When the SAML request is processed, a fresh authentication will be done and the **AuthnContext** will be honored. To request a fresh authentication, the SAML request must contain the value **forceAuthn="true"**. |

Resolve [AADSTS errors](https://docs.microsoft.com/azure/active-directory/develop/reference-aadsts-error-codes?WT.mc_id=Portal-Microsoft_Azure_Support) & [Troubleshoot signing in to SAML based SSO configured apps](https://docs.microsoft.com/azure/active-directory/manage-apps/application-sign-in-problem-federated-sso-gallery?WT.mc_id=UI_AAD_Apps_Sign_In_Support_L2_Gallery)

If you are unable to sign-in to SSO-configured applications, the following articles can help resolve most of your issues.

* [I have questions on Reply URL’s restrictions](https://docs.microsoft.com/azure/active-directory/develop/reply-url) 
* I want to [Configure Admin consent workflow](https://docs.microsoft.com/azure/active-directory/manage-apps/configure-admin-consent-workflow) and [Grant tenant-wide admin consent](https://docs.microsoft.com/azure/active-directory/manage-apps/grant-admin-consent#:~:text=The%20Global%20Administrator%20role%20is,to%20the%20Microsoft%20Graph%20API.&text=before%20granting%20consent.-,The%20Global%20Administrator%20role%20is%20required%20in%20order%20to%20provide,to%20the%20Microsoft%20Graph%20API) 
* Error while signing to my app in Chrome – Chrome doesn’t work for some SAML SSO apps. Install Windows 10 Application Extension on the Chrome browser.

:::Section Questions related to certificates and token claims:::

Resolve single sign-in configuration issues using insights from these solutions.

**I have questions about SAML certificates, keys and secrets**

* [Monitor my certificate/client secret expiry OR I’m not receiving email notifications for my certificate expiration](https://docs.microsoft.com/azure/active-directory/manage-apps/app-management-powershell-samples) and [Use distribution list for more than 5 email addresses to be notified about certificate expiration](https://docs.microsoft.com/microsoft-365/admin/setup/create-distribution-lists?view=o365-worldwide)
* [I want to customize expiration date for my certificate/create or renew my SAML certificate](https://docs.microsoft.com/azure/active-directory/manage-apps/manage-certificates-for-federated-single-sign-on#customize-the-expiration-date-for-your-federation-certificate-and-roll-it-over-to-a-new-certificate)
* Learn [How to create a client secret](https://docs.microsoft.com/azure/active-directory/develop/howto-create-service-principal-portal#option-2-create-a-new-application-secret) and [certificate signing options & algorithms](https://docs.microsoft.com/azure/active-directory/manage-apps/certificate-signing-options)

**I have questions on SAML token claims and attributes**
    
* [I want to edit claims/add a claim condition/add attributes/transform claim](https://docs.microsoft.com/azure/active-directory/develop/active-directory-saml-claims-customization?WT.mc_id=Portal-Microsoft_AAD_IAM)
* [Group claims are not sent for user during SSO login if a user is a member of more than 150 groups (SAML) or 200 groups (JWT)](https://docs.microsoft.com/azure/active-directory/hybrid/how-to-connect-fed-group-claims#options-for-applications-to-consume-group-information). It is recommended to [emit only groups assigned to the app](https://docs.microsoft.com/azure/active-directory/hybrid/how-to-connect-fed-group-claims#add-group-claims-to-tokens-for-saml-applications-using-sso-configuration)
* [Set token lifetime](https://docs.microsoft.com/azure/active-directory/develop/configure-token-lifetimes#create-a-policy-for-web-sign-in) & [Configure User sign-in frequency](https://docs.microsoft.com/azure/active-directory/conditional-access/howto-conditional-access-session-lifetime#user-sign-in-frequency) for [Refresh tokens and session tokens](https://docs.microsoft.com/azure/active-directory/develop/active-directory-configurable-token-lifetimes#token-lifetime-policies-for-refresh-tokens-and-session-tokens)
* [Learn about SAML tokens](https://docs.microsoft.com/azure/active-directory/develop/reference-saml-tokens)

**Other useful information**

* [Add my application to an Azure AD tenant](https://docs.microsoft.com/azure/active-directory/manage-apps/add-application-portal)
* [Troubleshoot common problem adding or removing an application to Azure Active Directory](https://docs.microsoft.com/troubleshoot/azure/active-directory/troubleshoot-adding-apps)
* Get a [list of all applications](https://docs.microsoft.com/powershell/module/azuread/get-azureadapplication?view=azureadps-2.0) and [all service principal objects](https://docs.microsoft.com/powershell/module/azuread/get-azureadserviceprincipal?view=azureadps-2.0) through PowerShell
* [Restore my soft deleted application](https://docs.microsoft.com/powershell/module/azuread/restore-azureaddeletedapplication?view=azureadps-2.0)

