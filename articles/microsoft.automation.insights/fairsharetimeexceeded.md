﻿﻿﻿﻿﻿﻿﻿<propertiespageTitle="Runbook Failed"description="Runbook failed because fair share time limit was exceeded"infoBubbleText="We have detected that your runbook failed because the fair share time limit was exceeded"service="microsoft.automation"resource="automation"authors="stevechi"displayOrder=""articleId="fair-share-time-limit-d99142cd-50b0-43af-acec-db23da3f4cbf"diagnosticScenario="Runbook Execution"selfHelpType="diagnostics"supportTopicIds="32599859,32599860,32599853"resourceTags="windows"productPesIds="15607"cloudEnvironments="public"/><!-- This is the title of my solution - This is not presented in the portal --> # Runbook failed because it exceeded the fair share time limit<!--issueDescription-->## **Runbook, <!--$RunbookName-->[RunbookName]<!--/$RunbookName-->, exceeded the fair share time limit**We have investigated and identified that your runbook <!--$RunbookName-->[RunbookName]<!--/$RunbookName--> failed <!--$FailedJobs-->[FailedJobs]<!--/$FailedJobs--> times in the last 5 days. It exceeded the 180 min fair share time limit.<!--Remediation suggestions-->### ***Recommended Steps***#### ***Execute the runbook using a Hybrid Worker***There aren't any time limits when executing runbooks on a [hybrid worker](https://docs.microsoft.com/en-us/azure/automation/automation-hybrid-runbook-worker).#### ***Optimize the runbook***If you would like to execute the runbook in the cloud you will need to optimize the runbook.##### *Create child runbooks*If your runbook has a loop that performs the same function on a number of resources, such as some data base operation on several databases. You can create a child runbook that performs the operation. Instead of performing the operation serially in the loop, you will call a child runbook. Each of these child runbooks will execute in parallel decreasing the total amount of time for the parent runbook.###### The powershell cmdlets that enable this scenario are:- [Start-AzureRMAutomationRunbook](https://docs.microsoft.com/en-us/powershell/module/azurerm.automation/start-azurermautomationrunbook?view=azurermps-6.4.0) This cmdlet will allow you to start a runbook and pass parameters to the runbook.- [Get-AzureRmAutomationJob](https://docs.microsoft.com/en-us/powershell/module/azurerm.automation/Get-AzureRmAutomationJob?view=azurermps-6.4.0) This cmdlet will allow you to check the job status for each child if there are operations that need to be performed after the child runbook completes.<!--Links-->### ***Additional references***- [Fair Share documentation](https://docs.microsoft.com/en-us/azure/automation/automation-runbook-execution#fair-share)- [Automation Service Limits](https://docs.microsoft.com/en-us/azure/azure-subscription-service-limits#automation-limits)- [Runbook Troubleshooting Guide](https://docs.microsoft.com/en-us/azure/automation/troubleshoot/runbooks)
