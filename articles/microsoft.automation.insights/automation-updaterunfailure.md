<properties
pageTitle="Deployment of updates failed because of Windows Update Service errors"
description="Windows Update Service encountered an error causing an update deployment to fail"
infoBubbleText="Update deployment failed with Windows Update Service error. See details on the right."
service="microsoft.automation"
resource="automationaccounts"
authors="stevechilcoat"
ms.author="stevechi"
displayOrder=""
articleId="Update_AE3E2A15-F80C-4034-AA00-08E04F72ACFF"
diagnosticScenario="AAUpdateRunFailedInsights"
selfHelpType="diagnostics"
supportTopicIds="32599861"
productPesIds="15607"
cloudEnvironments="public, Fairfax, usnat, ussec"
ownershipId="Compute_Automation"
/>

# Windows Update Service encountered errors while trying to install updates

## Updates Failed with HRESULT errors from Windows Update Service

<!--issueDescription-->
We have detected that update run(s) have failed between <!--$StartTime-->[StartTime]<!--/$StartTime--> UTC and <!--$EndTime-->[EndTime]<!--/$EndTime--> UTC. Windows Update Service encountered errors while installing updates. The table below contains the errors generated by Windows Update Service while installing updates.

<!--$CustomerTable-->[CustomerTable]<!--/$CustomerTable-->

<!--/issueDescription-->

## **Recommended Steps**

* [Troubleshooting problems updating Windows 10](https://support.microsoft.com/windows/troubleshoot-problems-updating-windows-10-188c2b0f-10a7-d72f-65b8-32d177eb136c)
* [Windows Update Troubleshooting Guide](https://docs.microsoft.com/windows/deployment/update/windows-update-troubleshooting)
* Often Windows Update issues can be fixed by running the following:
1. In the search box on the taskbar:
	1. Type `command prompt`
	2. Right-click **Command Prompt** and select **Run as administrator** from the list of options
	3. When prompted for "Do you want allow this app to make changes to your device?", select **Yes**
	4. In the window that appears, type the following commands one at a time, including the spaces, as shown below. After you type each command, press **Enter**. Then let each command complete before you type the next command.
	
	```
	net stop bits
	net stop wuauserv
	ren %systemroot%\softwaredistribution softwaredistribution.bak
	ren %systemroot%\system32\catroot2 catroot2.bak
	net start bits
	net start wuauserv
	```
	
## **Recommended Documents**

* [Windows Update common errors and mitigation](https://support.microsoft.com/help/938205/windows-update-error-code-list)
* [Windows Update error codes by component](https://docs.microsoft.com/windows/deployment/update/windows-update-error-reference)
* [Configure Windows Update settings for Azure Automation Update Management](https://docs.microsoft.com/azure/automation/update-management/configure-wuagent)
  * If the HRESULT code is not listed in the documents above, you can search the Microsoft documentation using https://docs.microsoft.com/search/?terms=(HRESULT code)
* [Update Management overview](https://docs.microsoft.com/azure/automation/update-management/overview)
* [Machine shows as "Not assessed" and shows an `HRESULT` exception](https://docs.microsoft.com/azure/automation/troubleshoot/update-management#hresult)
* [Update Management with Windows Server Update Services](https://docs.microsoft.com/windows-server/administration/windows-server-update-services/manage/update-management-with-windows-server-update-services)
